<?php	class user_applying_badges_getter{				public function get_record_amount_by_uid_and_badge_id($uid,$badge_id){			$uab = DB::table('user_applying_badges');			$sql = "SELECT COUNT(*) FROM ".$uab." WHERE uid=".$uid." AND badge_id=".$badge_id;			$tmp = DB::query($sql);                        $row =  DB::fetch($tmp);                        return $row['COUNT(*)'];					}		public function get_record_by_uid_and_badge_id($uid,$badge_id){						$uab = DB::table('user_applying_badges');                        $sql = "SELECT * FROM ".$uab." WHERE uid=".$uid." AND badge_id=".$badge_id;			$tmp = DB::query($sql);                        $row = DB::fetch($tmp);                        return $row;		}		public function get_record_by_uid_and_getting_badge_or_not($uid,$getting_badge_or_not){			$uab = DB::table('user_applying_badges');			$sql = "SELECT * FROM ".$uab." WHERE uid=".$uid." AND getting_badge_or_not=".$getting_badge_or_not;			$tmp = DB::query($sql);                        while($r = DB::fetch($tmp)){                                $rows[] = $r;                        }                        return $rows;					}		public function get_record_amount_by_uid_and_badge_id_and_getting_badge_or_not($uid,$badge_id,$getting_badge_or_not){			$uab = DB::table('user_applying_badges');			$sql = "SELECT COUNT(*) FROM ".$uab." WHERE uid=".$uid." AND badge_id=".$badge_id." AND getting_badge_or_not=".$getting_badge_or_not;			$tmp = DB::query($sql);                        $row =  DB::fetch($tmp);                        return $row['COUNT(*)'];					} 		public function get_record_amount_by_automatic_verifying($automatic_verifying,$strwhere){						$uab = DB::table('user_applying_badges');                        $sql = "SELECT COUNT(*) FROM ".$uab." WHERE 1=1 $strwhere and automatic_verifying=".$automatic_verifying;                        $tmp = DB::query($sql);                        $row =  DB::fetch($tmp);                        return $row['COUNT(*)'];		}		public function get_record_by_automatic_verifying_and_start_and_len_per_page($automatic_verifying,$start,$len_per_page,$strwhere){						$uab = DB::table('user_applying_badges');			$cmp = DB::table('common_member_profile');                        $sql = "SELECT * FROM ".$uab." as a ,".$cmp." as b WHERE 1=1 $strwhere and  a.uid=b.uid AND automatic_verifying=".$automatic_verifying." order by a.id desc LIMIT ".$start.",".$len_per_page;                        //var_dump($sql);						$tmp = DB::query($sql);                        while($r = DB::fetch($tmp)){                                $rows[] = $r;                        }                        return $rows;		}		public function get_first_six_record_by_uid($uid){			$uab = DB::table('user_applying_badges');                        $sql = "SELECT * FROM ".$uab." WHERE uid=".$uid." AND getting_badge_or_not=1 ORDER BY showed_order ASC LIMIT 0,6";                        $tmp = DB::query($sql);                        while($r = DB::fetch($tmp)){                                $rows[] = $r;                        }                        return $rows;		}		public function get_trainer_badge_amount($uid){                        $uab = DB::table('user_applying_badges');                        $sql = "SELECT COUNT(*) FROM pre_user_applying_badges WHERE uid=".$uid." AND getting_badge_or_not=1 AND (badge_id=1 OR badge_id=2 OR badge_id=3 OR badge_id=4);";                        var_dump($sql);                        $tmp = DB::query($sql);                        $row =  DB::fetch($tmp);                        return $row['COUNT(*)'];                }			/*		public function get_amount_by_uid_and_getting_badge_or_not($uid,$getting_badge_or_not){					$uab = DB::table('user_applying_badges');			$sql = "SELECT COUNT(*) FROM ".$uab." WHERE uid=".$uid." AND getting_badge_or_not=".$getting_badge_or_not;			$tmp = DB::query($sql);			$row =  DB::fetch($tmp);			return $row['COUNT(*)'];				}		*/		}	?>